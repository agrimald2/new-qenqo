import{_ as b}from"./CardBox-325a539e.js";import{_ as g}from"./BaseButton-6ed89792.js";import{m as o}from"./mdi-7f5f296a.js";import{_ as c}from"./FormControl-572480f0.js";import{r as p,o as C,c as h,w as U,a as v,b as r,u as l,I as f}from"./app-2f728894.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./main-d5a75c4a.js";const w={props:["activePlan"],data(){return{trainers:[]}},methods:{fetchTrainers(){v.get("/api/getTrainers").then(V=>{this.trainers=V.data}).catch(V=>{console.error(V)})}},mounted(){this.fetchTrainers()}},I=Object.assign(w,{__name:"Create",emits:["student-created"],setup(V,{emit:y}){let s=p(""),t=p(""),n=p(""),u=p(""),d=p(""),i=p("");const _=async()=>{try{const m=i.value.value,a=await v.post("/api/students",{dni:s.value,name:t.value,phone:n.value,username:u.value,password:d.value,reffered_by:m});s.value="",t.value="",n.value="",u.value="",d.value="",i.value="",y("student-created",a.data.id)}catch(m){console.error(m)}};return(m,a)=>(C(),h(b,{title:"Crear Estudiante",hasCancel:!0,class:"bg-gray-500 slide-in-top my-2"},{default:U(()=>[r(c,{icon:l(o),class:"my-1",placeholder:"DNI",modelValue:l(s),"onUpdate:modelValue":a[0]||(a[0]=e=>f(s)?s.value=e:s=e)},null,8,["icon","modelValue"]),r(c,{icon:l(o),class:"my-1",placeholder:"Nombre",modelValue:l(t),"onUpdate:modelValue":a[1]||(a[1]=e=>f(t)?t.value=e:t=e)},null,8,["icon","modelValue"]),r(c,{icon:l(o),class:"my-1",placeholder:"Teléfono",modelValue:l(n),"onUpdate:modelValue":a[2]||(a[2]=e=>f(n)?n.value=e:n=e)},null,8,["icon","modelValue"]),r(c,{icon:l(o),class:"my-1",placeholder:"Nombre de usuario",modelValue:l(u),"onUpdate:modelValue":a[3]||(a[3]=e=>f(u)?u.value=e:u=e)},null,8,["icon","modelValue"]),r(c,{icon:l(o),class:"my-1",placeholder:"Contraseña",modelValue:l(d),"onUpdate:modelValue":a[4]||(a[4]=e=>f(d)?d.value=e:d=e)},null,8,["icon","modelValue"]),r(c,{icon:l(o),type:"select",options:m.trainers.map(e=>({label:e.user.name,value:e.user.id})),onChange:m.addSelectedStudentToActivePlan,modelValue:l(i),"onUpdate:modelValue":a[5]||(a[5]=e=>f(i)?i.value=e:i=e)},null,8,["icon","options","onChange","modelValue"]),r(g,{icon:l(o),label:"Guardar",class:"bg-gray-300",target:"_blank","rounded-full":"",color:"",onClick:_},null,8,["icon"])]),_:1}))}});export{I as default};
