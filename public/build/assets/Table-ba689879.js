import{r as n,g as M,h as d,o as l,f as s,b as r,w as _,F as h,i as p,e as w,d as e,a as C,t as o,j as P,u as D,c as L}from"./app-e626a5d5.js";import"./main-39341a9e.js";import{a as j,b as F}from"./mdi-f62b0ca1.js";import{_ as S}from"./CardBoxModal-11397976.js";import{_ as I}from"./BaseLevel-12afe250.js";import{_ as x}from"./BaseButtons-af64cb60.js";import{_ as v}from"./BaseButton-d0b00a94.js";import{_ as R}from"./PillTag-2e82f72d.js";import"./CardBox-7edbfdbc.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./OverlayLayer-c428521d.js";const G=e("p",null,"Are you sure you want to delete this rate?",-1),H={key:0,class:"p-3 bg-gray-100/50 dark:bg-slate-800"},O={key:0},U=e("th",null,"Nombre Grupo",-1),q=e("th",null,"Tarifa",-1),z=e("th",null,"Inicio",-1),J=e("th",null,"Fin",-1),K=e("th",null,"Progreso",-1),Q=e("th",null,"Estado",-1),W=e("th",null,"Acciones",-1),X=e("th",null,null,-1),Y={"data-label":"Name"},Z={"data-label":"Company"},ee=e("br",null,null,-1),te={"data-label":"City"},ae={"data-label":"Progress",class:"lg:w-32"},le={"data-label":"Created",class:"lg:w-1 whitespace-nowrap"},se=["max","value"],oe={"data-label":"City"},ne={class:"before:hidden lg:w-1 whitespace-nowrap"},re={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800"},ye={__name:"Table",props:{checkable:Boolean,activePlans:Array},setup(b){const E=b,g=n(null);let u=n([]);M(()=>{u.value=E.activePlans}),n(!1);const m=n(!1),f=n(5),c=n(0),y=n([]),V=d(()=>u.value.slice(f.value*c.value,f.value*(c.value+1))),k=d(()=>Math.ceil(u.value.length/f.value)),$=d(()=>c.value+1),N=d(()=>{const a=[];for(let i=0;i<k.value;i++)a.push(i);return a}),T=()=>{C.get("/api/rates").then(a=>{u.value=a.data}).catch(a=>{console.error(a)})},A=a=>{g.value=a,m.value=!0},B=()=>{C.delete(`/api/rates/${g.value.id}`).then(()=>{T()}).catch(a=>{})};return(a,i)=>(l(),s(h,null,[r(S,{modelValue:m.value,"onUpdate:modelValue":i[0]||(i[0]=t=>m.value=t),title:"Eliminar Tarifa",button:"danger",buttonLabel:"Eliminar","has-cancel":"",onConfirm:B},{default:_(()=>[G]),_:1},8,["modelValue"]),y.value.length?(l(),s("div",H,[(l(!0),s(h,null,p(y.value,t=>(l(),s("span",{key:t.id,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm bg-gray-100 dark:bg-slate-700"},o(t.name),1))),128))])):w("",!0),e("table",null,[e("thead",null,[e("tr",null,[b.checkable?(l(),s("th",O)):w("",!0),U,q,z,J,K,Q,W,X])]),e("tbody",null,[(l(!0),s(h,null,p(V.value,t=>(l(),s("tr",{key:t.id},[e("td",Y,o(t.name),1),e("td",Z,[P(o(t.rate_name)+" ",1),ee,P(" "+o(t.rate_sessions_number)+" Sesiones ",1)]),e("td",te,o(t.start_date),1),e("td",ae,o(t.end_date),1),e("td",le,[e("progress",{class:"flex w-2/5 self-center lg:w-full",max:Math.floor((new Date(t.end_date)-new Date(t.start_date))/(1e3*60*60*24)),value:Math.floor((new Date-new Date(t.start_date))/(1e3*60*60*24))},null,8,se)]),e("td",oe,[r(R,{color:"success",label:"En curso",small:a.pillsSmall,outline:a.pillsOutline,icon:a.pillsIcon},null,8,["small","outline","icon"])]),e("td",ne,[r(x,{type:"justify-start lg:justify-end","no-wrap":""},{default:_(()=>[r(v,{color:"info",icon:D(j),small:"",href:"/students/showActivePlan/"+t.id},null,8,["icon","href"]),r(v,{color:"danger",icon:D(F),small:"",onClick:()=>A(t)},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])]),e("div",re,[r(I,null,{default:_(()=>[r(x,null,{default:_(()=>[(l(!0),s(h,null,p(N.value,t=>(l(),L(v,{key:t,active:t===c.value,label:t+1,color:t===c.value?"lightDark":"whiteDark",small:"",onClick:ce=>c.value=t},null,8,["active","label","color","onClick"]))),128))]),_:1}),e("small",null,"Page "+o($.value)+" of "+o(k.value),1)]),_:1})])],64))}};export{ye as default};
