import{r as n,g as A,h as d,o as s,f as o,b as u,w as _,F as h,i as f,e as k,d as e,a as w,t as a,u as E,c as L}from"./app-9f2eb8dd.js";import"./main-4957fc0e.js";import{b as F}from"./mdi-66a87996.js";import{_ as M}from"./CardBoxModal-13b1714e.js";import{_ as j}from"./BaseLevel-c3fa91a4.js";import{_ as C}from"./BaseButtons-91e2cdd3.js";import{_ as x}from"./BaseButton-9a3f1db7.js";import{_ as R}from"./UserAvatar-4cfac3ec.js";import"./CardBox-e1e2cea0.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./OverlayLayer-1e6f50da.js";import"./colors-ea023820.js";import"./BaseIcon-9a2ca4ad.js";const S=e("p",null,"Are you sure you want to delete this rate?",-1),z={key:0,class:"p-3 bg-gray-100/50 dark:bg-slate-800"},H={key:0},U=e("th",null,null,-1),q=e("th",null,"Nombre",-1),G=e("th",null,"Familia",-1),I=e("th",null,"N° Ses",-1),J=e("th",null,"Personas",-1),K=e("th",null,"Tipo",-1),O=e("th",null,"Duración",-1),Q=e("th",null,"Acciones",-1),W=e("th",null,null,-1),X={class:"border-b-0 lg:w-6 before:hidden"},Y={"data-label":"Name"},Z={"data-label":"Company"},ee={"data-label":"City"},te={"data-label":"Progress",class:"lg:w-32"},ae={"data-label":"Created",class:"lg:w-1 whitespace-nowrap"},le={"data-label":"City"},se={class:"before:hidden lg:w-1 whitespace-nowrap"},oe={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800"},ye={__name:"Table",props:{checkable:Boolean,rates:Array},setup(b){const P=b,v=n(null);let i=n([]);A(()=>{i.value=P.rates}),n(!1);const m=n(!1),p=n(5),r=n(0),g=n([]),D=d(()=>i.value.slice(p.value*r.value,p.value*(r.value+1))),y=d(()=>Math.ceil(i.value.length/p.value)),$=d(()=>r.value+1),N=d(()=>{const l=[];for(let c=0;c<y.value;c++)l.push(c);return l}),V=()=>{w.get("/api/rates").then(l=>{i.value=l.data}).catch(l=>{console.error(l)})},B=l=>{v.value=l,m.value=!0},T=()=>{w.delete(`/api/rates/${v.value.id}`).then(()=>{V()}).catch(l=>{})};return(l,c)=>(s(),o(h,null,[u(M,{modelValue:m.value,"onUpdate:modelValue":c[0]||(c[0]=t=>m.value=t),title:"Eliminar Tarifa",button:"danger",buttonLabel:"Eliminar","has-cancel":"",onConfirm:T},{default:_(()=>[S]),_:1},8,["modelValue"]),g.value.length?(s(),o("div",z,[(s(!0),o(h,null,f(g.value,t=>(s(),o("span",{key:t.id,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm bg-gray-100 dark:bg-slate-700"},a(t.name),1))),128))])):k("",!0),e("table",null,[e("thead",null,[e("tr",null,[b.checkable?(s(),o("th",H)):k("",!0),U,q,G,I,J,K,O,Q,W])]),e("tbody",null,[(s(!0),o(h,null,f(D.value,t=>(s(),o("tr",{key:t.id},[e("td",X,[u(R,{username:t.name,class:"w-24 h-24 mx-auto lg:w-6 lg:h-6"},null,8,["username"])]),e("td",Y,a(t.name),1),e("td",Z,a(t.family.name),1),e("td",ee,a(t.sessions_number),1),e("td",te,a(t.min_people)+" a "+a(t.max_people)+" Personas ",1),e("td",ae,a(t.min_people),1),e("td",le,a(t.days_duration)+" | "+a(t.max_freeze_days),1),e("td",se,[u(C,{type:"justify-start lg:justify-end","no-wrap":""},{default:_(()=>[u(x,{color:"danger",icon:E(F),small:"",onClick:()=>B(t)},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])]),e("div",oe,[u(j,null,{default:_(()=>[u(C,null,{default:_(()=>[(s(!0),o(h,null,f(N.value,t=>(s(),L(x,{key:t,active:t===r.value,label:t+1,color:t===r.value?"lightDark":"whiteDark",small:"",onClick:ne=>r.value=t},null,8,["active","label","color","onClick"]))),128))]),_:1}),e("small",null,"Page "+a($.value)+" of "+a(y.value),1)]),_:1})])],64))}};export{ye as default};
