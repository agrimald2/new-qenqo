import{_ as b}from"./CardBox-7edbfdbc.js";import{_ as g}from"./BaseButton-d0b00a94.js";import{m as d}from"./mdi-f62b0ca1.js";import{_ as c}from"./FormControl-01eb4caf.js";import{r as u,o as h,c as C,w,a as _,b as i,u as l,v as p}from"./app-e626a5d5.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./main-39341a9e.js";const T={props:["activePlan"],data(){return{trainers:[]}},methods:{fetchTrainers(){_.get("/api/getTrainers").then(m=>{this.trainers=m.data}).catch(m=>{console.error(m)})}},mounted(){this.fetchTrainers()}},j=Object.assign(T,{__name:"Create",emits:["student-created"],setup(m,{emit:V}){let o=u(""),t=u(""),r=u(""),f=u(""),v=u(""),s=u("");const y=async()=>{try{const n=s.value.value,a=await _.post("/api/students",{dni:o.value,name:t.value,phone:r.value,username:f.value,password:v.value,reffered_by:n});o.value="",t.value="",r.value="",f.value="",v.value="",s.value="",V("student-created",a.data.id)}catch(n){console.error(n)}};return(n,a)=>(h(),C(b,{title:"Crear Estudiante",hasCancel:!0,class:"bg-gray-500 slide-in-top my-2"},{default:w(()=>[i(c,{icon:l(d),class:"my-1",placeholder:"DNI",modelValue:l(o),"onUpdate:modelValue":a[0]||(a[0]=e=>p(o)?o.value=e:o=e)},null,8,["icon","modelValue"]),i(c,{icon:l(d),class:"my-1",placeholder:"Nombre",modelValue:l(t),"onUpdate:modelValue":a[1]||(a[1]=e=>p(t)?t.value=e:t=e)},null,8,["icon","modelValue"]),i(c,{icon:l(d),class:"my-1",placeholder:"TelÃ©fono",modelValue:l(r),"onUpdate:modelValue":a[2]||(a[2]=e=>p(r)?r.value=e:r=e)},null,8,["icon","modelValue"]),i(c,{icon:l(d),type:"select",options:n.trainers.map(e=>({label:e.user.name,value:e.user.id})),onChange:n.addSelectedStudentToActivePlan,modelValue:l(s),"onUpdate:modelValue":a[3]||(a[3]=e=>p(s)?s.value=e:s=e)},null,8,["icon","options","onChange","modelValue"]),i(g,{icon:l(d),label:"Guardar",class:"bg-gray-300",target:"_blank","rounded-full":"",color:"",onClick:y},null,8,["icon"])]),_:1}))}});export{j as default};
